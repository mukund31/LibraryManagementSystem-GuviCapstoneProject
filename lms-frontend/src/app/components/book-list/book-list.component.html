<div class="min-h-screen flex justify-center bg-gray-100">
  <div class="book-list-container bg-white p-6 rounded-lg shadow-lg w-full max-w-5xl">
    <div class="mb-4 flex justify-between items-center">
      <h2 class="text-2xl font-semibold">Books List</h2>
      <div >
        <button [routerLink]="['/admin/add-book']" 
          class="bg-green-500 px-2 py-2 rounded-md text-white font-bold mr-2"
        >Add Book</button>
        <input
          type="text"
          [(ngModel)]="searchQuery"
          placeholder="Search by keyword"
          (input)="onSearch()"
          class="px-4 py-2 border rounded-md"
        />
      </div>
    </div>

    <div *ngIf="books.length === 0" class="text-center text-gray-500">
      No books available.
    </div>

    <table *ngIf="books.length > 0" class="min-w-full table-auto">
      <thead class="bg-gray-100">
        <tr>
          <th class="px-4 py-2 border-b text-left">#</th>
          <th class="px-4 py-2 border-b text-left">Cover Page</th>
          <th class="px-4 py-2 border-b text-left">Title</th>
          <th class="px-4 py-2 border-b text-left">Author</th>
          <th class="px-4 py-2 border-b text-left">Genre</th>
          <th class="px-4 py-2 border-b text-left">Year</th>
          <th class="px-4 py-2 border-b text-left">Availability</th>
          <th class="px-4 py-2 border-b text-left">Location</th>
          <th class="px-4 py-2 border-b text-left">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let book of books; let i = index">
          <td class="px-4 py-2 border-b">{{ i + 1 }}</td>
          <td class="px-4 py-2 border-b">
            <img
          *ngIf="book.coverImageBase64"
          [src]="book.coverImageBase64.startsWith('data:image') ? book.coverImageBase64 : 'data:image/jpeg;base64,' + book.coverImageBase64"
          alt="Book Cover"
          class="w-28 h-full rounded-md"
        />
          </td>
          <td class="px-4 py-2 border-b">{{ book.title }}</td>
          <td class="px-4 py-2 border-b">{{ book.author }}</td>
          <td class="px-4 py-2 border-b">{{ book.genre }}</td>
          <td class="px-4 py-2 border-b">{{ book.publicationYear }}</td>
          <td class="px-4 py-2 border-b">{{ book.copiesAvailable }}</td>
          <td class="px-4 py-2 border-b">{{ book.location }}</td>
          <td class="px-4 py-2 border-b text-center gap-y-2">
            <div class="">
              <button
                (click)="onEdit(book)"
                class="bg-yellow-500 hover:bg-yellow-600 text-white p-1 rounded-md w-full mb-2"
              >
                Edit
              </button>
              <button
                (click)="onDelete(book)"
                class="bg-red-500 hover:bg-red-600 text-white p-1 rounded-md w-full"
              >
                Delete
              </button>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
